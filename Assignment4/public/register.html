<!DOCTYPE html>
<html lang="en">

<head>
    <ul>
        <li><a href="./search1.html">Search</a></li>
        <li><a href="./prospects.html">Cart</a></li>
      </ul> 
    <script>


        let params = (new URL(document.location)).searchParams; //set params variable

        // Creating function window.onload so when the page is loading, it checks to make sure there is a quantity written and that the quantities in textbox are valid
        //From Assignment1_Design_Examples > Asssignment1_2file > store_server.js 

        window.onload = function () { // creating the function for window.onload
            if (params.has('errors')) { //if invalid registration data is entertered
                //params for name, username, password (x2), email, 
                Register['name'].value = params.get('name');
                Register['username'].value = params.get('username');
                Register['password'].value = params.get('password');
                Register['confirmpsw'].value = params.get('confirmpsw'); 
                Register['email'].value = params.get('email'); 
                alert('Fix the following errors: \n' + params.get('errors')); //display errors in an alert

            }

            //writing the errors where they occur for each type of error
            if (params.has('nameerrors')) { //if there are name errors
                var nameerrors = params.get('nameerrors'); //create variable for nameerrors
                document.getElementById("namelabel").innerHTML = nameerrors; //show the name errors
            }
            if (params.has('usererrors')) { //if there are username errors
                var usererrors = params.get('usererrors'); //create variable for userrors
                document.getElementById("userlabel").innerHTML = usererrors; //show the name errors
            }
            if (params.has('passerrors')) { //if there are password errors
                var passerrors = params.get('passerrors'); //create variable for passerrors
                document.getElementById("pswlabel").innerHTML = passerrors; //show the password errors
            }
            if (params.has('confirmerrors')) { //if there are password errors
                var confirmerrors = params.get('confirmerrors'); //create variable for password errors
                document.getElementById("confirmpswlabel").innerHTML = confirmerrors; //show the password errors
            }
            if (params.has('emailerrors')) { //if there email errors
                var emailerrors = params.get('emailerrors'); //create variable for email errors
                document.getElementById("emaillabel").innerHTML = emailerrors; //show the email errors
            }
            
           

        }

    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Registration Page</title>
    <link rel="stylesheet" href="login.css">
</head>

<body>
        

    <div>
    <br>
        <!-- //Creating the registration form*/
/*Help from https://www.w3schools.com/html/tryit.asp?filename=tryhtml_input_password*/ -->
        <!-- https://www.w3schools.com/howto/howto_css_login_form.asp -->
        <center>
        <form name="Register" method="POST" action="/submit_register">
            Registration Page <br> <br>
            <div class="container">
                <input type="text" name="name" placeholder="Name" maxlength="30" onkeyup="" required><br>
                <label for="namelabel" id="namelabel"></label>
                <br>
                <input type="text" id="username" name="username" placeholder="Username" onkeyup="" minlength="3" maxlength="10" required>
                <br>
                <label for="userlabel" id="userlabel"></label>
                <br>
                <input type="password" name="password" placeholder="password" onkeyup="" minlength="6" required><br>
                <label for="pswlabel" id="pswlabel"></label>
                <br>
                <input type="password" name="confirmpsw" placeholder="Confirm password" onkeyup="" required><br>
                <label for="confirmpswlabel" id="confirmpswlabel"></label>
                <br>
                <input type="email" placeholder="email address" id="email" name="email" onkeyup="" required><br>
                <label for="emaillabel" id="emaillabel"></label>
                <br>
                <br>
                <input type="hidden" name="service_request2" id="service_request2">
                <input type="submit" name="submit" value="Register">
            </div>
        </form>
    </center>
    </div>
</body>

</html>