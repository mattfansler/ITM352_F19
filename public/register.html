<!-- Kelsey Ann Kimura: Registration Page -->
<!-- This webpage allows the user to register an account on the website. Validation Code is in place to verify the information the user enters is accurate -->

<!DOCTYPE html>
<html lang="en">

<head>
    <script>

        // get the query string values from form submission (Lab13 order_page)
        // From Assignment1_DesignExamples Asssignment1_2file products_display.html
        let params = (new URL(document.location)).searchParams; //params is a variable, 

        // Creating function window.onload so when the page is loading, it checks to make sure there is a quantity written and that the quantities in textbox are valid
        //From Assignment1_Design_Examples > Asssignment1_2file > store_server.js 

        window.onload = function () { // creating the function for window.onload
            //Check if we're getting redirected from the server because of an error
            if (params.has('errors')) { //if params has invalid registration data

                // Put the original data back into the textboxes
                //put values of query string into boxes
                Register['name'].value = params.get('name');
                Register['username'].value = params.get('username');
                Register['password'].value = params.get('password');
                Register['confirmpsw'].value = params.get('confirmpsw');
                Register['email'].value = params.get('email');

                //do for the rest of register form
                //get errors, indicate them on form
                //if there is a registration error, put up an alert
                alert('Fix the following errors: \n' + params.get('errors'));
            }
        }

    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="login-style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
</head>

<body>
    <div>
        <!-- //Creating the login form*/
/*Help from https://www.w3schools.com/html/tryit.asp?filename=tryhtml_input_password*/ -->
        <!-- Help from https://www.w3schools.com/howto/howto_css_login_form.asp -->
        <!-- Code for Maximum Length of Text: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text -->
        <form name="Register" method="POST">
            Registration Page <br> <br>
            <div class="container">
                <label for="name"><b>Name</b></label>
                <input type="text" name="name" maxlength="30" onkeyup="" required><br>
                <label for="namelabel" id="namelabel">Please enter a name</label>
                <br>
                <label for="username"><b>Username</b></label>
                <input type="text" id="username" name="username" onkeyup="" minlength="4" maxlength="10" required>
                <br>
                <label for="userlabel" id="userlabel">Please enter a username</label>
                <br>
                <label for="password"><b>Password</b></label>
                <input type="password" name="password" onkeyup="" minlength="6" required><br>
                <label for="pswlabel" id="pswlabel">Please enter a password</label>
                <br>
                <label for="confirmpsw"><b>Confirm Password</b></label>
                <input type="password" name="confirmpsw" onkeyup="" required><br>
                <label for="confirmpswlabel" id="confirmpswlabel">Please type your password again</label>
                <br>
                <label for="email"><b>Email Address</b></label>
                <input type="email" id="email" name="email" onkeyup="emaillowercase()" required><br>
                <label for="emaillabel" id="emaillabel">Please enter a email</label>
                <br>
                <input type="submit" name="submit" value="Register">
            </div>
        </form>
        <script>
            Register.action = "./register.html" + document.location.search;
        </script>
        </table>
    </div>
</body>

</html>